<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Rat in the Hat</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="#page-top">Rat in the Hat</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="#project">Projects</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
                <div class="d-flex justify-content-center">
                    <div class="text-center">
                        <h1 class="mx-auto my-0 text-uppercase">Rat in the Hat</h1>
			    <br>
                        <h3 class="text-white-50 mx-auto mt-2 mb-5">An Embedded Operating Systems final project inspired by <em>Ratatouille</em>.</h3>
                        <h2 class="text-white-50 mx-auto mt-2 mb-5">Stella Han (ch682), Tiffany Guo (tg382)
                            <br>ECE 5725, SP 2023</h2>


                        <a class="btn btn-primary" href="#about">Put Your Chef's Hat on</a>
                    </div>
                </div>
            </div>
        </header>
        <!-- About-->
        <section class="about-section text-center" id="about">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8">
                        <h2 class="text-white mb-4">Meet the Chefs</h2>
                    </div>
                </div>
                <!--img class="img-fluid" src="assets/img/ipad.png" alt="..." /-->
                <img class="img-fluid" src="assets/img/ratatouille_team.jpg" alt="Fake chefs" width=50% height=auto />
		    <div class="text-center">
                        <h2 class="text-white-50 mx-3 mt-2 mb-5">Left: Stella Han</h2>
			<h2 class="text-white-50 mx-3 mt-2 mb-5">Right: Tiffany Guo</h2> 
		    </div>
                <br><br><br><br><br>
            </div>
        </section>
        <!-- Projects-->
        <section class="projects-section bg-light" id="projects">
            <div class="container px-4 px-lg-5">
                <!-- Featured Project Row-->
                <div class="row gx-0 mb-4 mb-lg-5 align-items-center">
                    <div class="col-xl-8 col-lg-7"><img class="img-fluid mb-3 mb-lg-0" src="assets/img/RemyAndLinguini.gif" alt="..." /></div>
                    <div class="col-xl-4 col-lg-5">
                        <div class="featured-text text-center text-lg-left">
                            <h4>Introduction</h4>
                            <p class="text-black-50 mb-0">Ratatouille hat in real life. In the 2007 Pixar film Ratatouille, Remy the rat controls Alfredo Linguini’s hand movements via pulling strands of hair on his head. Hiding underneath Linguini’s chef’s hat, Remy guides the talentless chef to cook up many tasty dishes.
                            <br>As untalented chefs, we recreated the hat from the movie in hopes of getting the same experience of being controlled by Remy. 
                                The chef only needs a few pieces of equipment to start cooking: two wristbands and a chef's hat. As the Bluetooth-connected Raspberry Pi 4 inside the hat receives IMU measurements from the two Raspberry Pi Zeros attached to the wristbands, the rat's arm movements will be in sync with those of the chef.
                                The silhouette of the hardworking rat moving its arms will be visible while <em>you</em> are cooking!</p>
                        </div>
                    </div>
                </div>
                <!-- Project One Row-->
                <div class="row gx-0 mb-5 mb-lg-0 justify-content-center">
                    <div class="col-lg-6"><img class="img-fluid" src="assets/img/ratatouille_team.jpg" alt="..." /></div>
                    <div class="col-lg-6">
                        <div class="bg-black text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-left">
                                    <h4 class="text-white">Misty</h4>
                                    <p class="mb-0 text-white-50">An example of where you can put an image of a project, or anything else, along with a description.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Project Two Row-->
                <div class="row gx-0 justify-content-center">
                    <div class="col-lg-6"><img class="img-fluid" src="assets/img/demo-image-02.jpg" alt="..." /></div>
                    <div class="col-lg-6 order-lg-first">
                        <div class="bg-black text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-right">
                                    <h4 class="text-white">Mountains</h4>
                                    <p class="mb-0 text-white-50">Another example of a project with its respective description. These sections work well responsively as well!</p>
                                        <a href="https://github.com/tiffanyguo8/ECE5725/tree/main/code">Github repository</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Project Two Row-->
                <div class="row gx-0 justify-content-center">
                    <div class="col-lg-6">
			    <div class="bg-black h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto">
                                    <h4 class="text-white">Server</h4>
                        <!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f92672">import</span> <span style="color: #f8f8f2">bluetooth</span>

			<span style="color: #f8f8f2">hostMACAddress</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;B8:27:EB:86:9F:CA&quot;</span>
			<span style="color: #f8f8f2">port</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">3</span>
			<span style="color: #f8f8f2">backlog</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
			<span style="color: #f8f8f2">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1024</span>
			<span style="color: #f8f8f2">s</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">bluetooth</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">BluetoothSocket(bluetooth</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">RFCOMM)</span>
			<span style="color: #f8f8f2">s</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">bind((hostMACAddress,</span> <span style="color: #f8f8f2">port))</span>
			<span style="color: #f8f8f2">s</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">listen(backlog)</span>
			<span style="color: #66d9ef">try</span><span style="color: #f8f8f2">:</span>
				<span style="color: #f8f8f2">client,</span> <span style="color: #f8f8f2">clientInfo</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">s</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">accept()</span>
				<span style="color: #66d9ef">while</span> <span style="color: #f8f8f2">True:</span>
					<span style="color: #f8f8f2">data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">client</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">recv(size)</span>
					<span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">data:</span>
						<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(data)</span>
						<span style="color: #f8f8f2">client</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">send(data)</span>
			<span style="color: #66d9ef">except</span><span style="color: #f8f8f2">:</span>
				<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Closing socket&quot;</span><span style="color: #f8f8f2">)</span>
				<span style="color: #f8f8f2">client</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">close()</span>
				<span style="color: #f8f8f2">s</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">close()</span>
			</pre></div>

                    </div>
                    <div class="col-lg-6 order-lg-first">
                        <div class="bg-black h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-lg-right">
                                    <h4 class="text-white">Client</h4>
                                    <!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f92672">import</span> <span style="color: #f8f8f2">bluetooth</span>
					<span style="color: #f92672">import</span> <span style="color: #f8f8f2">time</span>
					<span style="color: #f92672">from</span> <span style="color: #f8f8f2">mpu6050</span> <span style="color: #f92672">import</span> <span style="color: #f8f8f2">mpu6050</span>
					<span style="color: #f92672">import</span> <span style="color: #f8f8f2">numpy</span> <span style="color: #f92672">as</span> <span style="color: #f8f8f2">np</span>

					<span style="color: #f8f8f2">sensor</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">mpu6050(</span><span style="color: #ae81ff">0x68</span><span style="color: #f8f8f2">)</span>

					<span style="color: #f8f8f2">server_address</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;DC:A6:32:B4:12:B4&quot;</span>

					<span style="color: #f8f8f2">client_socket</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">bluetooth</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">BluetoothSocket(bluetooth</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">RFCOMM)</span>
					<span style="color: #f8f8f2">client_socket</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">connect((server_address,</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">))</span>

					<span style="color: #f8f8f2">begin_time</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">time</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">time()</span>
					<span style="color: #66d9ef">while</span> <span style="color: #f8f8f2">time</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">time()</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">begin_time</span> <span style="color: #f92672">+</span> <span style="color: #ae81ff">180</span><span style="color: #f8f8f2">:</span>
					    <span style="color: #66d9ef">try</span><span style="color: #f8f8f2">:</span>
						<span style="color: #f8f8f2">accel_data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">sensor</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">get_accel_data()</span>
						<span style="color: #f8f8f2">gyro_data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">sensor</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">get_gyro_data()</span>
						<span style="color: #f8f8f2">temp</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">sensor</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">get_temp()</span>

						<span style="color: #f8f8f2">pitch</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">np</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">arctan2(accel_data[</span><span style="color: #e6db74">&#39;y&#39;</span><span style="color: #f8f8f2">],</span> <span style="color: #f8f8f2">accel_data[</span><span style="color: #e6db74">&#39;z&#39;</span><span style="color: #f8f8f2">])</span> <span style="color: #f92672">*</span> <span style="color: #ae81ff">180</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">np</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">pi</span>
						<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(pitch)</span>
						<span style="color: #f8f8f2">data</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">pitch</span>
						<span style="color: #f8f8f2">client_socket</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">send(str(data))</span>
						<span style="color: #f8f8f2">time</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">sleep(</span><span style="color: #ae81ff">0.5</span><span style="color: #f8f8f2">)</span>
					    <span style="color: #66d9ef">except</span> <span style="color: #f8f8f2">bluetooth</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">btcommon</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">BluetoothError</span> <span style="color: #66d9ef">as</span> <span style="color: #f8f8f2">error:</span>
						<span style="color: #66d9ef">print</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Bluetooth connection error:&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">error)</span>
						<span style="color: #66d9ef">break</span>

					<span style="color: #f8f8f2">client_socket</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">close()</span>
					</pre></div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer bg-black small text-center text-white-50"><div class="container px-4 px-lg-5">Copyright &copy; Rat in the Hat 2023</div></footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
